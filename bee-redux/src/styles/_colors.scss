//Hues
$yellow-hue: 51;
$blue-hue: $yellow-hue + 180;
$accent-hue: $blue-hue - 30;
$alt-bg-hue: $blue-hue - 30;
$title-hue: $yellow-hue - 0;

$success-hue: 130;
$warning-hue: 56;
$error-hue: 0;

//Backgrounds
@function bg-color($hue) {
  @return hsl($hue, 25%, 30%);
}

@function bg-color-disabled($hue) {
  @return hsl($hue, 15%, 26%);
}

@function bg-color-main($hue) {
  @return hsl($hue, 30%, 20%);
}

@function bg-color-dark($hue) {
  @return hsl($hue, 19%, 23%);
}

@function bg-color-darker($hue) {
  @return hsl($hue, 18%, 18%);
}

@function bg-color-darkest($hue) {
  @return hsl($hue, 16%, 14%);
}

@function bg-color-extra($hue) {
  @return hsl($hue, 27%, 25%);
}

@function bg-color-extra-disabled($hue) {
  @return hsl($hue, 15%, 22%);
}

//Borders
@function border-color($hue) {
  @return hsl($hue, 20%, 40%);
}

@function border-color-hover($hue) {
  @return hsl($hue, 20%, 55%);
}

@function border-color-disabled($hue) {
  @return hsl($hue, 11%, 33%);
}

@function border-color-disabled-hover($hue) {
  @return hsl($hue, 11%, 43%);
}

//Interactive Element Colors

//Designed for white text
@function ui-bg-color($hue) {
  @return hsl($hue, 60%, 40%);
}

@function ui-border-color($hue) {
  @return hsl($hue, 48%, 61%);
}

@function ui-border-color-muted($hue) {
  @return hsl($hue, 25%, 45%);
}

@function ui-bg-color-muted($hue) {
  @return hsl($hue, 35%, 32%);
}

//Designed for dark background
@function ui-line-color($hue) {
  @return hsl($hue, 55%, 70%);
}

@function ui-line-hover-color($hue) {
  @return hsl($hue, 65%, 65%);
}

@function ui-line-focus-color($hue) {
  @return hsl($hue, 75%, 60%);
}

//Status Text
@function status-text($hue) {
  @return hsl($hue, 85%, 82%);
}

//Gray Backgrounds
$dark-gray: #222;
$dark-gray-lighter: #333;
$mid-gray-darker: #555;
$mid-gray: #666;
$mid-gray-lighter: #777;
$light-gray: #999;
$light-gray-bg: #ddd;

//Gray Lines
$line-bright: rgba(255, 255, 255, 0.87);
$line-darker: rgba(255, 255, 255, 0.730);
$line-disabled: rgba(255, 255, 255, 0.36);
$line-darkest: rgba(255, 255, 255, 0.3);

//Disabled text must be lighter so that it is still legible
$text-disabled: rgba(255, 255, 255, 0.55);

//One-off colors
$yellow-main: hsl($yellow-hue, 78%, 30%);
$yellow-line: hsl($yellow-hue, 78%, 50%);
$accent-title: hsl($title-hue, 50%, 60%);
$accent-title-hover: hsl($title-hue, 60%, 50%);

@media (prefers-color-scheme: dark) {

  //:root {
    //color: $line-bright;
    //background-color: $dark-gray;
  //}

  //*:focus {
    //outline: none;
  //}

  //a {
    //$this-hue: $accent-hue;
    //color: ui-line-color($this-hue);
    //background-color: $accent-bg;
    //&:hover {
      //color: ui-line-hover-color($this-hue);
    //}
    //&:focus {
      //color: ui-line-focus-color($this-hue);
    //}
  //}

  //label > span {
    //color: ui-line-color($accent-hue);
  //}

  //.standard-button {
    //background-color: ui-bg-color($accent-hue);
  //}

  .sb-header {
    border-color: $line-darkest;
    background-color: bg-color-darker($blue-hue);
    .title {
      color: $accent-title;
      &:hover {
        color: $accent-title-hover;
      }
    }
    .subheader {
      background-color: bg-color-dark($blue-hue);
      //border-top: 1px solid $blue-border;
      //border-bottom: 1px solid $blue-border;
    }
    .puzzle-nav-link {
      &.disabled {
        color: $line-disabled;
      }
    }
    .sb-puzzle-search {
      input {
        //background-color: inherit;
        //border-bottom-color: $mid-gray-lighter;
      }
    }
  }

  .user-menu-content {
    background-color: $mid-gray-darker;
    .menu-item {
      &:hover {
        background-color: $mid-gray-lighter;
      }
    }
    .separator {
      background-color: $light-gray;
    }
    .arrow {
      fill: $mid-gray-darker;
    }
  }

  //.sb-word-tabs-root {
  //  .tabs-list {
  //    .tab-trigger {
  //      //border-color: $mid-gray;
  //      &[data-state="active"] {
  //        background-color: bg-color-extra($blue-hue);
  //        border-color: border-color-hover($blue-hue);
  //      }
  //    }
  //  }
  //  .tab-content {
  //    //border-color: $mid-gray;
  //  }
  //}

  //.sb-word-list-container {
    //border-color: $line-darkest;
    //header {
      //border-bottom-color: $mid-gray;
    //}
  //}

  //.sb-word-list-toggle {
  //  //border-color: $mid-gray;
  //  background-color: $mid-gray;
  //  button {
  //    background-color: $dark-gray;
  //    &[data-state="on"] {
  //      background-color: ui-bg-color($accent-hue);
  //    }
  //  }
  //}

  .has-popover {
    &.perfect, &.pangram {
      color: $yellow-line;
    }
  }

  .sb-word-popover-content {
    background-color: $mid-gray;
    box-shadow: 0 0 0px 4px $dark-gray;
    //border-color: $light-gray;
    .popover-arrow {
      fill: $light-gray;
    }
    .popover-close-button {
      //border-color: $light-gray;
    }
  }

  button.sb-revealer {
    //border-color: $mid-gray;
    background-color: $dark-gray-lighter;
  }

  .sb-answer-alert-message {
    //border-color: $line-darkest;
    &.pangram-alert-message {
      border-color: $yellow-main;
      background-color: $yellow-main;
    }
  }

  .sb-error-alert-message {
    border-color: $line-bright;
    background-color: $line-bright;
    color: $dark-gray;
  }

  .sb-guess-input {
    &.error {
    }
    &:after {
      background-color: $yellow-line;
    }
  }

  .sb-guess-input-letter {
    &.valid {
      color: white;
    }
    &.center-letter {
      color: $yellow-line;
    }
    &.invalid {
      color: $line-disabled;
    }
  }

  .hexagon polygon {
    fill: $mid-gray-darker;
    stroke: $dark-gray;
  }

  .hexagon.center-letter polygon {
    fill: $yellow-main; //#887711
  }

  .hexagon text {
    fill: $line-bright;
  }

  .sb-guess-input-controls {
    .standard-button {
      background-color: $mid-gray-darker;
    }
  }

  //.sb-hint-panel {
  //  $this-hue: $blue-hue;
  //  //border-color: border-color($this-hue);
  //  .sb-hint-panel-header {
  //    background-color: bg-color($this-hue);
  //    button {
  //      &.button {
  //        background-color: bg-color-extra($this-hue);
  //      }
  //      &:hover {
  //        border-color: border-color($this-hue);
  //      }
  //    }
  //  }
  //  &[data-state="closed"] {
  //    color: $line-darker;
  //    border-color: border-color-disabled($this-hue);
  //    .sb-hint-panel-header {
  //      background-color: bg-color-disabled($this-hue);
  //      button {
  //        color: $line-darker;
  //        &.button {
  //          background-color: bg-color-disabled($this-hue);
  //        }
  //        &:hover {
  //          border-color: border-color-disabled($this-hue);
  //        }
  //      }
  //    }
  //  }
  //}

  //.sb-hint-panel-settings, .collapsible-settings {
  //  $this-hue: $alt-bg-hue;
  //  background-color: bg-color-main($this-hue);
  //  //border-color: border-color($this-hue);
  //  span.disabled {
  //    color: $text-disabled;
  //  }
  //  .sb-hint-panel-settings-header, .collapsible-settings-header {
  //    background-color: bg-color($this-hue);
  //    button {
  //      &.button {
  //        background-color: bg-color-extra($this-hue);
  //      }
  //      &:hover {
  //        border-color: border-color($this-hue);
  //        //border-color: transparent;
  //      }
  //    }
  //  }
  //  &[data-state="closed"] {
  //    color: $line-darker;
  //    border-color: border-color-disabled($this-hue);
  //    .sb-hint-panel-settings-header, .collapsible-settings-header {
  //      background-color: bg-color-disabled($this-hue);
  //      button {
  //        color: $line-darker;
  //        &:hover {
  //          border-color: border-color-disabled($this-hue);
  //        }
  //      }
  //    }
  //  }
  //}
  //
  //.sb-general-hint-settings {
  //  border-top: 1px solid hsl(0, 20%, 40%);
  //}

  .sb-wlg-content,
  .sb-wlg-total-column,
  .sb-wlg-row-header:not(:nth-child(-n + 1 of div.sb-wlg-row-header)),
  .sb-wlg-total-row,
  {
    border-top: 1px solid $line-darkest;
  }

  .sb-wlg-content,
  .sb-wlg-total-column,
  .sb-wlg-total-row,
  {
    border-left: 1px solid $line-darkest;
  }

  .sb-wlg-tracking-key {
    background-color: $dark-gray-lighter;
    border: 1px solid $line-darkest;
  }

  .sb-wlg-content-full {
    background-color: $dark-gray-lighter;
  }

  .hint-completed {
    color: status-text($success-hue);
    //background-color: hsl(120, 40%, 20%);
    font-style: italic;
  }

  .hint-in-progress {
    color: status-text($warning-hue)
    //background-color: hsl(60, 60%, 20%);
  }

  .hint-not-started {
    color: status-text($error-hue);
    //background-color: hsl(0, 40%, 20%);
  }

  .sb-word-count-list {
    border-top: 1px dotted;
  }

  .sb-wcl-fragment-count {
    border: 1px solid $line-darkest;
    background-color: $dark-gray-lighter;
  }

  .sb-lol-row {
    border-bottom: 1px solid $line-darkest;
    //&:first-child {
    //  border-top: 1px solid #666;
    //}
  }

  .sb-search-hints-search-result-header {
    background-color: $dark-gray-lighter;
    .header-remove-button {
      background-color: $dark-gray;
      &:hover {
        border-color: $line-darkest
      }
    }
  }
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
